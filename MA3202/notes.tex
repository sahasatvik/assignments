\documentclass[11pt]{article}

\usepackage[T1]{fontenc}
\usepackage{geometry}
\usepackage{amsmath, amssymb, amsthm}
\usepackage[scr]{rsfso}
\usepackage{bm}
\usepackage[%
    hidealllines=true,%
    innerbottommargin=15,%
    nobreak=true,%
]{mdframed}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{tikz-cd}

\geometry{a4paper, margin=1in, headheight=14pt}

\pagestyle{fancy}
\fancyhf{}
\renewcommand\headrulewidth{0.4pt}
\fancyhead[L]{\scshape MA3202: Algebra II}
\fancyhead[R]{\scshape \leftmark}
\rfoot{\footnotesize\it Updated on \today}
\cfoot{\thepage}

\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}

\DeclareMathOperator{\ch}{ch}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Ann}{Ann}

\newmdtheoremenv[%
    backgroundcolor=blue!10!white,%
]{theorem}{Theorem}[section]
\newmdtheoremenv[%
    backgroundcolor=violet!10!white,%
]{corollary}{Corollary}[theorem]
\newmdtheoremenv[%
    backgroundcolor=teal!10!white,%
]{lemma}[theorem]{Lemma}

\theoremstyle{definition}
\newmdtheoremenv[%
    backgroundcolor=green!10!white,%
]{definition}{Definition}[section]
\newmdtheoremenv[%
    backgroundcolor=red!10!white,%
]{exercise}{Exercise}[section]

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{example}{Example}
\newtheorem*{solution}{Solution}

\surroundwithmdframed[%
    linecolor=black!20!white,%
    hidealllines=false,%
    innertopmargin=5,%
    innerbottommargin=10,%
    skipabove=0,%
    skipbelow=0,%
]{example}

\numberwithin{equation}{section}

\title{
    \Large\textsc{MA3202} \\
    \Huge \textbf{Algebra II} \\
    \vspace{5pt}
    \Large{Spring 2022}
}
\author{
    \large Satvik Saha
    \\\textsc{\small 19MS154}
}
\date{\normalsize
    \textit{Indian Institute of Science Education and Research, Kolkata, \\
    Mohanpur, West Bengal, 741246, India.} \\
}

\begin{document}
    \maketitle

    \tableofcontents
    \clearpage

    \section{Rings}
    
    \subsection{Basic definitions}
    \begin{definition}
        A ring is a set $R$ equipped with two binary operations, namely addition and
        multiplication, such that 
        \begin{enumerate}
            \itemsep0em
            \item $(R, +)$ is an abelian group.
            \begin{enumerate}
                \itemsep0em
                \item $a + b \in R$ for all $a, b \in R$.
                \item $(a + b) + c = a + (b + c)$ for all $a, b, c \in R$.
                \item $a + b = b + a$ for all $a, b \in R$.
                \item There exists $0 \in R$ such that $a + 0 = a$ for all $a \in R$.
                \item For each $a \in R$, there exists $-a \in R$ such that $a + (-a)
                = 0$.
            \end{enumerate}
            \item $(R, \cdot)$ is a semi-group.
            \begin{enumerate}
                \itemsep0em
                \item $a\cdot b \in R$ for all $a, b \in R$.
                \item $(a\cdot b)\cdot c = a\cdot(b\cdot c)$ for all $a, b, c \in R$.
            \end{enumerate}
            \item Multiplication distributes over addition.
            \begin{enumerate}
                \itemsep0em
                \item $a\cdot (b + c) = (a\cdot b) + (a\cdot c)$ for all $a, b, c \in R$.
                \item $(b + c)\cdot a = (b\cdot a) + (c\cdot a)$ for all $a, b, c \in R$.
            \end{enumerate}
        \end{enumerate}
        \begin{remark}
            The following properties follow immediately,
            \begin{enumerate}
                \itemsep0em
                \item $0\cdot a = 0$ for all $a \in R$.
                \item $(-a)\cdot b = -(a\cdot b) = a\cdot(-b)$ for all $a, b \in R$.
                \item $(na)\cdot b = n(a\cdot b) = a\cdot (nb)$ for all $a, b \in R$.
            \end{enumerate}
        \end{remark}
    \end{definition}

    \begin{example}
        The integers $\Z$ form a ring, under the usual addition and multiplication.
    \end{example}
    \begin{example}
        All fields, for instance the rational numbers $\Q$ or the real numbers $\R$,
        are rings.
    \end{example}
    \begin{example}
        The integers modulo $n$, namely $\Z/n\Z$, form a ring.
    \end{example}
    \begin{example}
        If $R$ is a ring, then the algebra of polynomials $R[X]$ with coefficients
        from $R$ form a ring.
    \end{example}
    \begin{example}
        If $R$ is a ring, then the $n \times n$ matrices $M_n(R)$ with entries from
        $R$ form a ring.
    \end{example}

    \begin{definition}
        If $R$ is a ring and $(R, \cdot)$ is a monoid i.e.\ has an identity, then
        this identity is unique and called the unity of the ring $R$. Such a ring $R$
        is called a unit ring. Note that we typically demand that this identity be
        distinct from the zero element.
    \end{definition}
    \begin{example}
        The even integers $2\Z$ form a ring, but do not contain the identity.
    \end{example}
    \begin{example}
        The trivial ring $\{0\}$ is typically not considered to be a unit ring, since
        $0$ must serve as the additive identity as well as the multiplicative
        identity.
    \end{example}

    \begin{definition}
        If $R$ is a ring and $(R, \cdot)$ is commutative, then $R$ is called a
        commutative ring.
    \end{definition}

    \begin{definition}
        Let $R$ be a unit ring. An element $a \in R$ is called a unit if there exists
        $b \in R$ such that $a\cdot b = 1 = b\cdot a$. This $b \in R$ is unique, and
        denoted by $a^{-1}$.
    \end{definition}
    \begin{example}
        The units in $\Z$ are $\{1, -1\}$.
    \end{example}


    \subsection{Subrings}

    \begin{definition}
        Let $R$ be a ring, and let $S \subseteq R$. We say $S$ is a subring of $R$ if
        the structure $(S, +, \cdot)$ is a ring, with addition and multiplication
        inherited from $R$.
    \end{definition}
    \begin{example}
        The rings $n\Z$ for $n \in \N$ are all subrings of $\Z$.
    \end{example}
    \begin{example}
        Consider the rings $2\Z \subset \Z$. Here, $\Z$ is a unit ring but $2\Z$ is
        not.
    \end{example}
    \begin{example}
        Consider the rings $4\Z/12\Z \subset 2\Z/12\Z$. Here, $2\Z/12\Z$ is not a
        unit ring but $4\Z/12\Z$ is.
    \end{example}

    \begin{lemma}
        Let $S$ be a subring of $R$. Since $(R, +)$ is an abelian group, $(S, +)$ is
        a normal subgroup of $(R, +)$. Thus, we can make sense of the quotient group
        $(R/S, +)$.
    \end{lemma}

    \begin{lemma}
        Let $S$ be a subring of $R$. Then, the quotient $(R/S, +, \cdot)$ is a ring
        with multiplication $(a + S)\cdot(b + S) = ab + S$ if and only if $ab - xy
        \in S$ for all $a, b, x, y \in R$ such that the cosets $a + S = x + S$, $b +
        S = y + S$.
    \end{lemma}
    \begin{example}
        Consider the ring $\Z$ and the subring $n\Z$. Then, the quotient $\Z/n\Z$ is
        indeed a ring.
    \end{example}
    \begin{example}
        Consider the ring $\Q$ and the subring $\Z$. It can be shown that $\Q/\Z$ is
        not a ring under the `natural' multiplication.
    \end{example}

    
    \subsection{Ideals}

    \begin{definition}
        Let $R$ be a ring and let $I$ be a subset of $R$. We say that $I$ is an ideal
        of $R$ if $(I, +)$ is a subgroup of $(R, +)$, and $rx, xr \in I$ for all $r
        \in R$, $x \in I$.
    \end{definition}

    \begin{example}
        Consider the ring $\Z$, and the subring $n\Z$. This is an ideal of $\Z$,
        since $m(n\Z) \subseteq n\Z$. Indeed, every ideal of $\Z$ is of the form
        $n\Z$. This will follow from Euclid's Division Lemma.
    \end{example}
    \begin{example}
        The subsets $\{0\}$ and $R$ of any ring $R$ are trivial ideals.
    \end{example}

    \begin{lemma}
        Let $R$ be a ring, and $I$ be an ideal of $R$. Then, the quotient $R/I$ is a
        ring.
    \end{lemma}
    \begin{proof}
        Note that whenever $a - x \in I$, $b - y \in I$, we demand that $ab - xy \in
        I$. This can be rewritten as $(a - x)b + x(b - y) \in I$, which is clearly
        true by the properties of the ideal $I$.
    \end{proof}

    \begin{definition}
        An ideal $I \subset R$ is called finitely generated if there exist $x_1, x_2,
        \dots, x_n \in I$ such that every element of $I$ can be written as a finite
        linear combination \[
            x = r_1x_1 + \dots + r_nx_n,
        \] where $r_i \in R$. We denote $I = (x_1, x_2, \cdots, x_n)$.
    \end{definition}

    \begin{definition}
        An ideal generated by a single element is called a principal ideal.
    \end{definition}
    \begin{example}
        Every ideal of $\Z$ is a principal ideal.
    \end{example}

    \begin{lemma}
        Let $R$ be a unit ring, and $I \subseteq R$ be an ideal. Then, $I = R$ if and
        only if $I$ contains the identity.
    \end{lemma}

    \begin{definition}
        The sum of two ideals $I, J \subset R$ is defined \[
            I + J = \{x + y: x \in I, y \in J\}.
        \] Their product is defined \[
            IJ = \{\sum_{i = 1}^n x_iy_i: x_i \in I, y_i \in J\}.
        \]
    \end{definition}

    \begin{lemma}
        The sum and product of two ideals of a ring are also ideals of that ring.
    \end{lemma}

    \begin{lemma}
        Let $I, J \subset R$ be ideals in the commutative ring $R$. Then, $IJ \subset
        I \cap J$.
    \end{lemma}
    \begin{example}
        Note that for $2\Z, 2\Z \in \Z$, $(2\Z)(2\Z) = 4\Z$ but $2\Z \cap 2\Z = 2\Z$.
        A related example is $R = 2\Z$, $I = 4\Z$, $J = 6\Z$.
    \end{example}

    \begin{lemma}
        If $I, J \subset R$ are ideals in a commutative unit ring $R$, and $I + J =
        R$, then $IJ = I \cap J$.
    \end{lemma}
    \begin{proof}
        We already know that $IJ \subseteq I + J$. Since $I + J = R$, we can pick $x
        \in I, y \in J$ such that $x + y = 1$. Now pick $a \in I\cap J$, hence
        $a\cdot 1 = ax + ay \in I \cap J$; but this is also an element of $IJ$
        proving $I \cap J \subseteq IJ$.
    \end{proof}
    
    \subsection{Integral domains}
    
    \begin{definition}
        Let $R$ be a ring and $a, b \in R$, $a, b \neq 0$. If $ab = 0$, we call $a$ a
        left zero divisor and $b$ a right zero divisor.
    \end{definition}
    \begin{example}
        Consider $2, 3 \in \Z/6\Z$; then $2\cdot 3 = 6 \equiv 0$.
    \end{example}

    \begin{definition}
        A commutative ring $R$ is called an integral domain if it has no zero
        divisors.
    \end{definition}
    \begin{example}
        When $p$ is prime, the rings $\Z/p\Z$ are integral domains. Note that this
        set is a group under both $+$ and $\cdot$.
    \end{example}

    \begin{lemma}
        Every field is an integral domain.
    \end{lemma}

    \begin{theorem}
        Every finite integral domain is a field.
    \end{theorem}
    \begin{proof}
        Let $R = \{x_1, \dots, x_n\}$ be a finite integral domain. We first show that
        $R$ contains an identity $1$. Pick $x \neq 0$, and note that $x x_1, x x_2,
        \dots, x x_n$ must all be distinct: otherwise $x x_i = x x_j$ would force
        $x(x_i - x_j) = 0$. This forces $x = x x_k$ for some $x_k \neq 0$. Now, we
        claim that $x_k$ is our identity. Indeed, given any $y \neq 0$, we write $y =
        xx_l$ for some $x_l \neq 0$, hence $yx_k = x x_l x_k = x_l(x x_k) = x_lx =
        y$.

        Next, we show that every non-zero $x \in R$ has an inverse. Indeed, $1 = x_k$
        must be one of the $x x_1, \dots, x x_n$, hence $1 = x x_m$ for some non-zero
        $x_m$. This means that $x_m = x^{-1}$.
    \end{proof}

    \begin{definition}
        Let $R$ be a ring. The characteristic of $R$ is the smallest positive integer
        $n$ such that $nx = 0$ for all $x \in R$. If no such number $n$ exists, we
        say that the characteristic of $R$ is zero. We denote the characteristic of
        $R$ by $\ch(R)$.
    \end{definition}
    \begin{example}
        We have $\ch(\Z) = 0$, $\ch(\Z/n\Z) = n$.
    \end{example}

    \begin{lemma}
        Let $R$ be a unit ring. Then, $\ch(R)$ is the smallest positive integer $n$
        such that $n\cdot 1 = 0$; if no such $n$ exists, then $\ch(R)$ is zero.
    \end{lemma}

    \begin{theorem}
        Let $R$ be an integral domain. Then, $\ch(R)$ is either zero or a prime.
    \end{theorem}
    \begin{proof}
        Let $R$ be an integral domain such that $\ch(R) = n \neq 0$. If $n$ is not a
        prime, write $n = n_1n_2$ for $n_1, n_1 < n$. Then for any non-zero $x \in
        R$, write $0 = n(x^2) = (n_1x)(n_2x)$. This forces one of $n_1x, n_2x = 0$;
        say $n_1x = 0$. Now for any $y \in R$, we have $x(n_1 y) = (n_1 x)y = 0$.
        Since $x \neq 0$, we have $n_1y = 0$ for all $y \in R$, contradicting the
        minimality of $n$.
    \end{proof}


    \subsection{Simple rings}

    \begin{definition}
        A simple ring is one which has no non-trivial ideals. We typically demand
        that multiplication in $R$ is non-trivial.
    \end{definition}

    \begin{lemma}
        Every field is a simple ring.
    \end{lemma}
    \begin{proof}
        If $R$ is a field and $I\subset R$ is an ideal with non-zero $a \in I$, then
        $a^{-1} \in R$ hence $a^{-1}a = 1 \in I$. This immediately forces $I = R$.
    \end{proof}
    \begin{lemma}
        If $R$ is a commutative, simple, unit ring, then $R$ is a field.
    \end{lemma}
    \begin{proof}
        Pick non-zero $a \in R$, and set $I = (a)$. Since $R$ is simple, $I = R$,
        hence $1 \in I = (a)$. In other words, $1 = ab$ for some $b \in R$.
    \end{proof}


    \subsection{Homomorphisms and isomorphisms}
    
    \begin{definition}
        Let $R, S$ be rings, and let $\varphi\colon R \to S$. We say that $\varphi$
        is a ring homomorphism if 
        \begin{enumerate}
            \itemsep0em
            \item $\varphi(x + y) = \varphi(x) + \varphi(y)$ for all $x, y \in R$.
            \item $\varphi(xy) = \varphi(x)\varphi(y)$ for all $x, y \in R$.
            \item $\varphi(1_R) = 1_S$.
        \end{enumerate}
        We only insist on 3 if both $R$ and $S$ are unit rings.
        \begin{remark}
            The following properties follow immediately.
            \begin{enumerate}
                \itemsep0em
                \item $\varphi(0_R) = 0_S$.
                \item $\varphi(-x) = -\varphi(x)$ for all $x \in R$.
                \item $\varphi(nx) = n\varphi(x)$ for all $x \in R$, $n \in \Z$.
                \item $\varphi(x - y) = \varphi(x) - \varphi(y)$ for all $x, y \in R$.
            \end{enumerate}
        \end{remark}
    \end{definition}

    \begin{example}
        The map $\varphi\colon \Z \to \Z/n\Z$, $k \mapsto k \bmod{n}$ is a
        homomorphism.
    \end{example}

    \begin{definition}
        A bijective homomorphism between two rings is called an isomorphism. If an
        isomorphism exists between two rings, we say that they are isomorphic.
    \end{definition}

    \begin{example}
        The map $\varphi\colon \Z \to n\Z$, $k \mapsto nk$ is an isomorphism.
    \end{example}
    \begin{example}
        The map $\varphi\colon \C \to \C$, $z \mapsto \bar{z}$ is an isomorphism.
    \end{example}

    \begin{example}
        The rings $\Z$ and $\Q$ are not isomorphic. If there did exist an isomorphism
        $\varphi\colon \Q \to \Z$, then set $a = \varphi(1 / 2)$. We now demand $a +
        a = \varphi(1 / 2 + 1 / 2) = 1$; but there is no such integer satisfying this
        property.
    \end{example}

    \begin{lemma}
        The only isomorphism $\Z \to \Z$ is the identity map.
    \end{lemma}
    \begin{theorem}
        The only isomorphism $\Q \to \Q$ is the identity map.
    \end{theorem}
    \begin{proof}
        Let $\varphi\colon \Q \to \Q$ be an isomorphism. We must have $\varphi(1) =
        1$, which immediately gives $\varphi(n) = n$ for all $n \in \Z$. Now for any
        rational $p / q \in \Q$, note that $1 = \varphi(q \cdot 1 / q) = q \cdot
        \varphi(1 / q)$, forcing $\varphi(1 / q) = 1 / q$. Thus, $\varphi(p / q) = p
        / q$, completing the proof.
    \end{proof}
    
    \begin{theorem}
        The only isomorphism $\R \to \R$ is the identity map.
    \end{theorem}
    \begin{proof}
        Let $\varphi\colon \R \to \R$ be an isomorphism. We must have $\varphi(q)
        = q$ for all $q \in \Q$.

        First we show that $\varphi$ is strictly increasing. Note that when $x > 0$,
        $\varphi(x) = \varphi(\sqrt{x})^2 > 0$. Thus when $x > y$, $\varphi(x - y) >
        0$, hence $\varphi(x) > \varphi(y)$.

        Now let $x \in \R$; if $\varphi(x) \neq x$, we must have one of $\varphi(x) >
        x$ or $\varphi(x) < x$. Assume the former, and find $q \in \Q$ such that
        $\varphi(x) > q > x$. Now, $q > x$ gives $q = \varphi(q) > \varphi(x)$, a
        contradiction.  An analogous argument gives a contradiction when $\varphi(x)
        < x$, completing the proof.
    \end{proof}
    
    \begin{theorem}
        The only homomorphism $\R \to \R$ is the identity map.
    \end{theorem}
    \begin{proof}
        If $\varphi\colon \R \to \R$ is a homomorphism, it is easy to check that
        $\varphi^{-1}(0)$ is an ideal. Since $\R$ is simple, this must be $\{0\}$ or
        $\R$; the latter can be ruled out since $\varphi(1) = 1$. In other words,
        $\varphi^{-1} = \{0\}$ so $\varphi$ is injective. Following the previous
        proof, $\varphi$ must be an isomorphism, hence the identity map.
    \end{proof}

    \begin{theorem}
        The only isomorphisms $\C \to \C$ which send $\R \to \R$ are the maps $z
        \mapsto z$ and $z \mapsto \bar{z}$.
    \end{theorem}
    \begin{proof}
        The previous theorem guarantees that any such isomorphism $\varphi\colon \C
        \to \C$ is completely determined by $\varphi(i)$. Now, $-1 = \varphi(-1) =
        \varphi(i)^2$, forcing $\varphi(i) = \pm i$.
    \end{proof}

    \begin{lemma}
        The kernel of a ring homomorphism $\varphi\colon R \to S$ is an ideal of $R$.
        Its image is a subring of $S$.
    \end{lemma}
    \begin{proof}
        If $x \in \ker\varphi$, then $\varphi(x) = 0$, hence for any $r \in R$ we
        have $\varphi(rx) = \varphi(r) \varphi(x) = 0$. Thus, $rx \in
        \varphi^{-1}(0)$. Also, recall that $\varphi^{-1}(0)$ is an additive subgroup
        of $R$.
    \end{proof}

    \begin{theorem}[First isomorphism theorem]
        Let $\varphi\colon R \to S$ be a surjective ring homomorphism. Then, \[
            R / \ker{\varphi} \cong \im{\varphi}.
        \] 
    \end{theorem}
    \begin{proof}
        Denote $I = \ker{\varphi}$, so the elements of $R/I$ are the cosets $x + I$
        for $x \in R$. This gives us the natural map \[
            \phi\colon R/I \to S, \qquad x + I \mapsto \varphi(x).
        \] It can be shown that this map is well defined: if $x + I = y + I$, then $x
        - y \in I$ so $\varphi(x - y) = 0$, or $\varphi(x) = \varphi(y)$. Now,
        $\phi((x + I) + (y + I)) = \varphi(x + y) = \varphi(x) + \varphi(y) = \phi(x
        + I) + \phi(y + I)$, and $\phi((x + I)(y + I)) = \varphi(xy) =
        \varphi(x)\varphi(y) = \phi(x + I)\phi(y + I)$. Additionally, if $R$ and $S$
        are both unit rings, then $\phi(1_R + I) = \varphi(1_R) = 1_S$. Thus, $\phi$
        is a homomorphism. It is obvious that $\phi$ is surjective; also observe that
        $\phi^{-1}(0) = 0 + I$, hence $\phi$ is also injective. This proves that
        $\phi$ is an isomorphism, as desired.
    \end{proof}

    \begin{theorem}
        Let $I, J \subset R$ be ideals. Then, \[
            (I + J)/J \cong I/(I \cap J).
        \] 
    \end{theorem}
    \begin{proof}
        The map $\phi\colon I \to (I + J)/J$, $x \mapsto x + J$ can be shown to be a
        surjective homomorphism. It's kernel consists of the elements in $I$ that get
        mapped to $0 + J$, so $\ker{\phi} = I \cap J$. Applying the first isomorphism
        theorem gives the desired result.
    \end{proof}

    \begin{lemma}
        Let $I \subset R$ be an ideal, and let $\varphi\colon R \to S$ be a
        surjective ring homomorphism, then $\varphi(I)$ is an ideal in $S$.
    \end{lemma}

    \begin{theorem}[Correspondence theorem]
        Let $I \subset R$ be an ideal. Then there exists a one-to-one correspondence
        between the ideals of $R$ containing $I$ with the ideals of $R/I$.
    \end{theorem}
    \begin{proof}
        Use the surjective ring homomorphism $\phi\colon R \to R/I$, $x \mapsto x +
        I$, which maps ideals in $R$ to ideals in $R/I$. Furthermore, given ideals
        $J, J' \subset R$ such that $\varphi(J) = \varphi(J')$, note that $x \in J$
        implies $\varphi(x) \in \varphi(J) = \varphi(J')$ so $x \in J'$; this shows
        that $J = J'$, hence our map is injective. Finally, given an ideal $K$ in
        $R/I$, its pre-image under our map is the ideal $L = \{x \in R: x + I \in
        K\}$.
    \end{proof}


    \begin{theorem}[Chinese remainder theorem]
        Let $R$ be a commutative unit ring, and $I, J \subset R$ be ideals such that
        $I + J = R$. Then, \[
            R / IJ \cong R/I \times R/J.
        \] 
    \end{theorem}
    \begin{proof}
        Consider the map \[
            \varphi\colon R \to R/I \times R/J, \qquad x \mapsto (x + I, x + J).
        \] It is clear that this is a ring homomorphism. Furthermore, $\varphi$ is
        surjective: to see this, pick $a \in I$, $b \in J$ such that $a + b = 1$.
        Then \[
            \varphi(ay + bx) = (a(y - x) + x + I, b(x - y) + y + J) = (x + I, y + J).
        \] 

        Now, note that $\varphi(x) = (I, J)$ forces $x \in I \cap J$; but the latter
        is just $IJ$ by a previous lemma. Applying the first isomorphism theorem
        gives the desired result.
    \end{proof}


    \subsection{Quotient fields}

    We recall the standard construction of $\Q$ from $\Z$, and generalize this to the
    construction of the field $Q(R)$ from an integral domain $R$. Consider the
    equivalence relation on the set $R \times R\setminus\{0\}$ defined by \[
        (a, b) \sim (c, d) \;\Longleftrightarrow\; ad = bc.
    \] This partitions $R \times R\setminus\{0\}$ into equivalence classes; let $Q(R)$
    be the collection of these equivalence classes. Now define addition and
    multiplication of elements from $Q(R)$ as \[
        [a, b] + [c, d] = [ad + bc, bd], \qquad [a, b] \cdot [c, d] = [ac, bd].
    \] It can be verified that this is well defined. Furthermore, we have an additive
    identity $[0, a]$, a multiplicative identity $[a, a]$, and every non-zero element
    $[a, b]$ has a multiplicative inverse $[b, a]$. The remaining properties can be
    checked to show that $Q(R)$ is a field. We can now embed $R$ in $Q(R)$ via the
    map \[
        \iota\colon R \to Q(R), \qquad x \mapsto [ax, a].
    \] It can also be shown that $Q(R)$ is the smallest field containing $R$. Indeed
    if $j\colon R \to F$ is an embedding of $R$ in the field $F$, we can embed $Q(R)$
    in $F$ using the map $[a, b] \mapsto j(a)\cdot j(b)^{-1}$.

    \begin{remark}
        We do not require $R$ to have a multiplicative identity!
    \end{remark}

    \begin{definition}
        The field $Q(R)$ constructed as above is called the field of fractions, or
        quotient field of the integral domain $R$.
    \end{definition}

    \begin{lemma}
        The field of fractions $Q(R)$ is the smallest field containing the integral
        domain $R$.
    \end{lemma}

    \begin{lemma}
        Let $R_1, R_2$ be integral domains. If $R_1 \cong R_2$, then $Q(R_1) \cong
        Q(R_2)$.
    \end{lemma}


    \subsection{Prime and maximal ideals}
    
    \begin{definition}
        An ideal $I \subseteq R$ is called a prime ideal if it is proper, and $xy \in
        I$ implies that at least one of $x, y \in I$ for all $x, y \in R$.
    \end{definition}

    \begin{lemma}
        An ideal $I \subseteq P$ is prime if and only if $JK \subset I$ forces either
        $J \subset I$ or $K \subset I$ for all ideals $J, K \subseteq R$.
    \end{lemma}

    \begin{example}
        The prime ideals of $\Z$ are $\{0\}$ and $p\Z$
    \end{example}
    \begin{example}
        A commutative ring is an integral domain if and only if $\{0\}$ is a prime
        ideal.
    \end{example}

    \begin{theorem}
        Let $R$ be a commutative ring, and $I$ be a proper ideal. Then, $I$ is a
        prime ideal if and only if $R/I$ is an integral domain.
    \end{theorem}
    \begin{example}
        The quotients $\Z/p\Z$ are integral domains precisely for primes $p$.
    \end{example}

    \begin{definition}
        An ideal $I \subseteq R$ is called maximal if it is proper, and for any ideal
        $J \subseteq R$ with $I \subseteq J \subseteq R$, either $J = I$ or $J = R$.
    \end{definition}
    \begin{example}
        The maximal ideals of $\Z$ are $p\Z$.
    \end{example}

    \begin{theorem}
        Let $R$ be a commutative unit ring, and $I$ be a proper ideal. Then $I$ is a
        maximal ideal if and only if $R/I$ is a field.
    \end{theorem}
    \begin{example}
        Note that $4\Z$ is a maximal ideal in $2\Z$, but $2\Z / 4\Z$ is not a field.
    \end{example}

    \begin{lemma}
        Let $R$ be a commutative unit ring. Then every maximal ideal is prime.
    \end{lemma}
    \begin{example}
        Note that $(X)$ is a prime ideal in $\Z[X]$, but not maximal.
    \end{example}


    \begin{definition}
        A non-empty set $S$ with a partial order $\leq$ is called a partial ordered
        set, when we have \begin{enumerate}
            \itemsep0em
            \item $x \leq x$ for all $x \in S$.
            \item $x \leq y$ and $y \leq x$ forces $x = y$.
            \item $x \leq y$ and $y \leq z$ forces $x \leq z$.
        \end{enumerate}
    \end{definition}

    \begin{definition}
        A subset $T$ of $S$ is called a chain or totally ordered set if any two
        elements are comparable. In other words, given $x, y \in T$, at least one of
        $x \leq y$ or $y \leq x$.
    \end{definition}

    \begin{lemma}[Zorn's Lemma]
        If $S$ is a partially ordered set such that every chain $C$ has an upper
        bound in $S$, then for every element $x \in S$, there exists a maximal
        element $z \in S$ such that $x \leq z$.
    \end{lemma}

    \begin{theorem}
        Let $R$ be a commutative unit ring. Then $R$ contains a maximal ideal.
    \end{theorem}



    \subsection{Divisibility}
    
    In this section, all rings are integral domains with a multiplicative identity.

    \begin{definition}
        Let $a, b \in R$, $a \neq 0$. We say that $a$ divides $b$ if there exists $c
        \in R$ such that $b = ac$. We denote this by $a\mid b$.
    \end{definition}
    \begin{example}
        In $\Z[i]$, $3 + i$ divides $10$ because $10 = (3 + i)(3 - i)$.
    \end{example}

    \begin{lemma}
        If $a, b \in R$, $a \neq 0$, then $a \mid b$ if and only if $(a)
        \supseteq (b)$.
    \end{lemma}

    \begin{lemma}
        Suppose that $a\mid b$ and $b \mid a$. Then, $b = ua$ for some unit $u \in
        R$.
    \end{lemma}

    \begin{definition}
        Two non-zero elements $a, b \in R$ are called associates of each other if $b
        = ua$ for some unit $u \in R$.
        \begin{remark}
            This defines an equivalence relation on $R - \{0\}$.
        \end{remark}
    \end{definition}

    \begin{definition}
        A non-zero non-unit element $a \in R$ is said to be irreducible if $a = bc$
        forces either $b, c$ to be a unit.
        \begin{remark}
            The only divisors of an irreducible element are its associates and units.
        \end{remark}
    \end{definition}

    \begin{definition}
        A non-zero non-unit element $p \in R$ is said to be prime if for $a, b \in
        R$, $p \mid ab$ forces either $p \mid a$, $p \mid b$.
    \end{definition}

    \begin{lemma}
        All prime elements are irreducible.
    \end{lemma}
    \begin{example}
        Consider $x = 1 + \sqrt{-5} \in \Z[\sqrt{-5}]$; this is irreducible, but not
        prime.
    \end{example}


    \begin{theorem}
        Let $p \in R$ be non-zero. Then, $p$ is a prime if and only if $(p)$ is a
        prime ideal.
    \end{theorem}

    \begin{theorem}
        Let $x \in R$ be non-zero. Then, $x$ is irreducible if $(x)$ is maximal.
    \end{theorem}

    \begin{example}
        Note that $X$ is irreducible in $\Z[X]$, but $(X)$ is not maximal.
    \end{example}


    \begin{definition}
        Let $a, b \in R$ be non-zero. An element $d \in R$ is called a greatest
        common divisor (gcd) of $a$ and $b$ if \begin{enumerate}
            \itemsep0em
            \item $d\mid a$ and $d\mid b$.
            \item $d'\mid a$ and $d'\mid b$ forces $d'\mid d$.
        \end{enumerate}
    \end{definition}

    \begin{definition}
        Let $a, b \in R$ be non-zero. An element $l \in R$ is called a least common
        multiple (lcm) of $a$ and $b$ if \begin{enumerate}
            \itemsep0em
            \item $a\mid l$ and $b\mid l$.
            \item $a\mid l'$ and $b\mid l'$ forces $l\mid l'$.
        \end{enumerate}
    \end{definition}

    \begin{example}
        Consider the ring $\Z[\sqrt{-5}]$, with $a = 2(1 + \sqrt{-5})$, $b = 6 = (1 +
        \sqrt{-5})(1 - \sqrt{-5})$. Then, $a$ and $b$ have no gcd or lcm.
    \end{example}

    \begin{lemma}
        If the gcd of $a$ and $b$ does exist, then it is unique upto associates. The
        same applies for the lcm.
    \end{lemma}
    

    \subsection{Factorisation domains}
    
    \begin{definition}
        A unit integral domain $R$ is called a factorisation domain if every
        non-zero, non-unit $x\in R$ can be expressed as a unit times a product of
        irreducible elements, i.e.\ $x = ux_1x_2\dots x_n$ where $u$ is a unit and
        each $x_i$ is irreducible.
    \end{definition}
    \begin{example}
        The ring $\Z[\sqrt{-5}]$ is a factorisation domain.
    \end{example}
    \begin{example}
        Consider the ring of entire complex functions, i.e.\ \[
            R = \{\sum_{n = 1}^\infty a_nz^n: a_n \in \C, \text{ the series converges
            for all } z \in \C\}.
        \] Then, $R$ is indeed a unit integral domain, and its units are those
        functions which vanish nowhere. Furthermore, its irreducible elements are the
        associates of linear polynomials $z - a$. Now if $R$ were to be a
        factorisation domain, then every element would be an associate of a
        polynomial function, and thus have finitely many zeroes. However, the entire
        function $\sin$ has infinitely many zeroes.
    \end{example}


    \begin{definition}
        A unit integral domain $R$ is called a unique factorisation domain if $R$ is
        a factorisation domain and the factorisation of every element non-zero $x \in
        R$ is unique upto associates.
    \end{definition}
    \begin{example}
        The ring of integers $\Z$ is a unique factorisation domain.
    \end{example}
    \begin{example}
        The ring $\Z[\sqrt{-5}]$ is not a unique factorisation domain.
    \end{example}


    \begin{theorem}
        A unit integral domain $R$ is a unique factorisation domain if and only if
        $R$ is a factorisation domain in which every irreducible element is a prime.
    \end{theorem}
    \begin{proof}
        First suppose that $R$ is a unique factorisation domain. Let $x$ be an
        irreducible element in $R$, and let $x \mid ab$. We claim that $x\mid a$ or
        $x \mid b$. Now, $x \mid ab$ means that there exists $y \in R$, $xy = ab$. We
        can factor $a$ and $b$, and conclude that \[
            xy = ab = (ua_1\dots a_l)(vb_1\dots b_m),
        \] where $u, v$ are units and $a_i, b_j$ are all irreducible. Since $R$ is a
        unique factorisation domain and the irreducible element $x$ appears on the
        left, it must be an associate of one of the $a_i, b_j$. If $x = wa_i$ for
        some unit $w$, then $x\mid a_i$ hence $x\mid a$. Otherwise, $x\mid b_j$ hence
        $x\mid b$.

        Next suppose that $R$ is a factorisation domain where every irreducible
        element is prime. Suppose that non-zero $x \in R$ factorises into
        irreducible elements as \[
            x = ux_1\dots x_l = vy_1\dots y_m.
        \] Note that all $x_i, y_j$ are primes. Suppose that $l \leq m$. Now $x_1 \mid
        x$ implies that $x_1 \mid vy_1 \dots y_m$, hence $x_1 \mid y_k$ for some
        $y_k$. Without loss of generality, let $x_1 \mid y_1$; the irreducibility of
        $y_1$ means that $x_1 = u_1y_1$ for some unit $u_1$. Thus, \[
            uu_1x_2 \dots x_l = vy_2 \dots y_m.
        \] Continuing this process, we will reach $w = vy_{l + 1} \dots y_m$ for some
        unit $w$, which is a contradiction if $l < m$. Thus, we are forced to have $l
        = m$, and all $x_i = u_iy_i$ for units $u_i$.
    \end{proof}

    \begin{lemma}
        Let $R$ be a unique factorisation domain. Then, any two non-zero elements in
        $R$ have a gcd and an lcm.
    \end{lemma}


    \subsection{Principal ideal domains}

    \begin{definition}
        A unit integral domain $R$ is called a principal ideal domain if every ideal
        of $R$ is principal.
    \end{definition}
    \begin{example}
        The ring of integers $\Z$ is a principal ideal domain.
    \end{example}

    \begin{theorem}
        Let $R$ be a principal ideal domain, and let $x \in R$ be non-zero. Then, $x$
        is irreducible if and only if $(x)$ is maximal.
    \end{theorem}
    \begin{corollary}
        Let $R$ be a principal ideal domain. Then, every non-zero prime ideal is
        maximal.
    \end{corollary}

    \begin{example}
        Note that $(0)$ is a prime ideal in $\Z$, but is not maximal.
    \end{example}

    \begin{lemma}
        Let $R$ be a principal ideal domain. Then, every irreducible element is prime.
    \end{lemma}

    \begin{theorem}
        Every principal ideal domain is a unique factorisation domain.
    \end{theorem}
    \begin{corollary}
        Let $R$ be a principal ideal domain. Then, any two non-zero elements in $R$
        have a gcd and an lcm.
    \end{corollary}
    \begin{example}
        The ring $\Z[X]$ is a unique factorisation domain, but not a principal ideal
        domain.
    \end{example}


    \subsection{Euclidean domains}
    
    \begin{definition}
        An integral domain $R$ is called a Euclidean domain if there is a map
        $d\colon R - \{0\} \to \Z_{\geq 0}$ such that \begin{enumerate}
            \itemsep0em
            \item $d(a) \leq d(ab)$ for all non-zero $a, b \in R$.
            \item For all $a \in R$ and non-zero $b \in R$, there exist $q, r \in R$
            such that $a = bq + r$ with either $r = 0$ or $d(r) < d(b)$.
        \end{enumerate}
        The map $d$ is called the algorithm map and the second property is called the
        division algorithm.
    \end{definition}
    \begin{example}
        The ring of integers $\Z$ is a Euclidean domain, with $d(n) = |n|$.
    \end{example}
    \begin{example}
        The ring of Gaussian integers $\Z[i]$ is a Euclidean domain, with $d(a + ib)
        = a^2 + b^2$.
    \end{example}
    \begin{example}
        Every field is a Euclidean domain, with $d(x) = 1$.
    \end{example}

    \begin{lemma}
        Every ideal in a Euclidean domain is principal.
    \end{lemma}
    \begin{proof}
        Let $R$ be a Euclidean domain, and let $I \subseteq R$ be an ideal. If $I =
        0$, we trivially have $I = (0)$. Thus, let $I \neq 0$, and choose non-zero $a
        \in I$ such that $d(a)$ is minimal. We claim that $I = (a)$. Indeed, let $b
        \in I$, and exhibit $q, r \in R$ such that $b = aq + r$. This
        shows that $r = b - aq \in I$. Note that $d(r) < d(a)$ contradicts the
        minimality of $d(a)$, hence we must have $r = 0$, and $b = aq \in (a)$. Thus,
        $I = (a)$ as desired.
    \end{proof}

    \begin{lemma}
        Every Euclidean domain is a unit ring.
    \end{lemma}
    \begin{proof}
        The previous lemma shows that if $R$ is a Euclidean domain, then $R = (a)$
        for some $a \in R$. Since $a \in R$, we must have $a = a_0a$ for some $a_0
        \in R$. We claim that $a_0$ is the identity in $R$. Indeed, for $x \in R =
        (a)$, we must have $x = ra$ for some $r \in R$, hence $x = ra_0a = a_0(ra) =
        a_0x$.
    \end{proof}

    \begin{theorem}
        Every Euclidean domain is a principal ideal domain.
    \end{theorem}
    \begin{example}
        The ring $\Z[(1 + \sqrt{19}) / 2]$ is a principal ideal domain, but not a
        Euclidean domain.
    \end{example}
    \begin{corollary}
        Every Euclidean domain is a unique factorisation domain.
    \end{corollary}
    \begin{corollary}
        Let $R$ be a Euclidean domain. Then, any two non-zero elements in $R$ have a
        gcd and an lcm.
    \end{corollary}

    \begin{lemma}
        Let $R$ be a Euclidean domain, and let $a, b \in R$. If $a$ is a proper
        divisor of $b$, then $d(a) < d(b)$.
    \end{lemma}


    \subsection{Polynomial rings}
    
    \begin{theorem}[Eisenstein's criterion]
        Let $R$ be a unique factorisation domain, and \[
            f(x) = \sum_{i = 0}^n a_ix^i \in R[X].
        \] Suppose that there is a prime $p \in R$ such that $a\mid a_i$ for $0 \leq
        i < n$, $p\nmid a_n$, and $p^2 \nmid a_0$. Then, $f(x)$ is irreducible.
    \end{theorem}
    \begin{corollary}
        Let $p$ be a prime and let $n > 1$. Then, $x^n - p \in \Z[X]$ is irreducible.
    \end{corollary}

    \begin{lemma}[Gauss lemma]
        Let $R$ be a unique factorisation domain, and let $F$ be the field of
        fractions of $R$. Let $f(x) \in R[X]$ be irreducible in $\R[X]$. Then, $f(x)$
        is irreducible in $F[X]$.
    \end{lemma}

    \begin{theorem}[Gauss theorem]
        Let $R$ be a unique factorisation domain. Then, $R[X]$ is also a unique
        factorisation domain.
    \end{theorem}




    \section{Modules}
    
    \subsection{Basic definitions}

    \begin{definition}
        Let $R$ be a ring. A left $R$-module is an abelian group $(M, +)$ together
        with a map $R\times M \to M$ given by $(a, x) \mapsto ax$ such that for all
        $a, b \in R$, $m, n \in M$, the following hold. \begin{enumerate}
            \itemsep0em
            \item $a(m + n) = am + an$.
            \item $(a + b)m = am + bm$.
            \item $a(bm) = (ab)m$.
            \item $1m = m$.
        \end{enumerate}
        \begin{remark}
            When $R$ is commutative, we simply call this structure an $R$-module.
        \end{remark}
    \end{definition}
    \begin{example}
        Any abelian group is a $\Z$-module.
    \end{example}
    \begin{example}
        Any vector space $V$ over a field $F$ is an $F$-module.
    \end{example}
    \begin{example}
        Any ring $R$ is an $R$-module over itself.
        Indeed, given an ideal $I \subseteq R$, we see that $I$ is an $R$-module.
    \end{example}
    
    \begin{example}
        Let $M$ be an $S$-module. If $\varphi\colon R \to S$ is a ring homomorphism,
        we can treat $M$ as an $R$-module, with scalar multiplication $(a, m) \mapsto
        \varphi(a)m$ for $a \in R$, $m \in M$.

        In particular, $S$ is an $R$-module, with $(r, s) \mapsto \varphi(r)s$ for $r
        \in R$, $s \in S$.

        Using this idea, suppose that $I\subseteq R$ is an ideal, and $\pi\colon
        R \to R/I$ is the canonical homomorphism. Then $R/I$ is an $R$-module, with
        $(r, s + I) \mapsto rs + I$ for $r, s \in R$.
    \end{example}


    \subsection{Submodules}
    
    \begin{definition}
        Let $M$ be a module. A subset $N\subseteq M$ is called a submodule of $M$ if
        $N$ is a subgroup of $(M, +)$, and $rx \in N$ for all $r \in R$, $x \in N$.
    \end{definition}
    \begin{example}
        Any subspace of a vector space is a submodule.
    \end{example}
    \begin{example}
        All polynomials of degree at most $n$ is a submodule of the $R$ module
        $R[x]$.
    \end{example}
    \begin{example}
        The submodules of a commutative ring $R$ are precisely the ideals of $R$.
    \end{example}

    \begin{lemma}
        Let $M_1, M_2 \subseteq M$ be submodules. Then, $M_1 \cap M_2$ is a submodule
        of $M$.
    \end{lemma}
    \begin{definition}
        Let $M_1, M_2 \subseteq M$ be submodules. The smallest submodule of $M$
        containing $M_1 \cup M_2$ is called the submodule generated by $M_1, M_2$.
    \end{definition}
    \begin{lemma}
        The submodule generated by $M_1, M_2 \subseteq M$ is \[
            M_1 + M_2 = \{x + y : x \in M_1, y \in M_2\}.
        \] 
    \end{lemma}


    \subsection{Homomorphisms and isomorphisms}
    
    \begin{definition}
        Let $R$ be a ring, and let $M, N$ be $R$-modules. A map $\varphi\colon M \to
        N$ is called a homomorphism if for all $r \in R$, $m, m' \in M$, the
        following hold. \begin{enumerate}
            \itemsep0em
            \item $\varphi(m + m') = \varphi(m) + \varphi(m')$.
            \item $\varphi(rm) = r\varphi(m)$.
        \end{enumerate}
        The set of all $R$-module homomorphisms $\varphi\colon M \to N$ is denoted
        $\Hom_R(M, N)$.
    \end{definition}
    \begin{example}
        Any linear transformation between vector spaces over a field $F$ is a
        homomorphism of $F$-modules.
    \end{example}
    \begin{definition}
        A bijective homomorphism is called an isomorphism.
    \end{definition}
    \begin{definition}
        A homomorphism $\varphi\colon M \to M$ is called an endomorphism.
        The set of all $R$-module endomorphisms $\varphi\colon M \to N$ is denoted
        $\End_R(M, N) = \Hom_R(M, M)$.
    \end{definition}
    \begin{definition}
        A bijective endomorphism is called an automorphism.
    \end{definition}

    \begin{lemma}
        Let $\varphi\colon M \to N$ be a homomorphism of $R$-modules. Then, the
        following hold. \begin{enumerate}
            \itemsep0em
            \item The set $\ker\varphi$ is a submodule of $M$.
            \item The set $\im\varphi$ is a submodule of $N$.
            \item The map $\varphi$ is a injective if and only if $\ker\varphi =
            \{0\}$.
        \end{enumerate}
    \end{lemma}

    \begin{theorem}
        Let $M$ be an $R$-module, and $N\subseteq M$ be a submodule. Then, the
        quotient group $M/N$ is an $R$-module, with $r[m] \mapsto [rm]$ for $r \in
        R$, $m \in M$.
    \end{theorem}

    \begin{theorem}
        If $\varphi \in \Hom_R(M, M')$, then $M/\ker\varphi \cong \im\varphi$.
    \end{theorem}


    \subsection{Cyclic modules}
    
    \begin{definition}
        An $R$-module $M$ is called cyclic if $M = Rx$ for some $x \in M$.
    \end{definition}

    \begin{definition}
        The annihilator of an $R$-module $M$ is defined as \[
            \Ann(M) = \{a \in R : aM = 0\}.
        \] 
    \end{definition}
    \begin{definition}
        A cyclic module $M$ is called free if $\Ann(M) = 0$.
    \end{definition}
    \begin{lemma}
        If $M = Rx$ is free, then every element $z \in M$ can be uniquely expressed
        as $z = ax$ for $a \in R$.
    \end{lemma}

    \begin{definition}
        An $R$-module $M$ is called finitely generated if $M = M_1 + M_2 + \dots +
        M_n$ where each $M_i$ is cyclic. If each $M_i = Rx_i$, then $\{x_1, \dots,
        x_n\}$ is called a generating set of $M$.
    \end{definition}
    \begin{example}
        The module of polynomials over $R$ of degree at most $n$ is generated by
        $\{1, x, \dots, x^n\}$.
    \end{example}


    \subsection{Direct products and sums}
    
    \begin{definition}
        Let $I$ be an indexing set. A family $(x_i, i \in I)$ is a function whose
        value at $i$ is $x_i$. Let $M_i$ be $R$-modules. Their direct product
        $\prod_{i \in I} M_i$ is the set of all families $(x_i, i \in I)$ with $x_i
        \in M_i$. Addition and scalar multiplication are defined simply as \[
            (x_i) + (y_i) = (x_i + y_i), \qquad r(x_i) = (rx_i),
        \] 
    \end{definition}

    \begin{definition}
        The external direct sum of $R$-modules $M_i$, denoted $\bigoplus_{i \in
        I} M_i$, is the set of all families $(x_i, i \in I)$ where all but finitely
        many $x_i = 0$ for each index $i \in I$.
    \end{definition}

    \begin{definition}
        Let $M_1, M_2 \subseteq M$ be submodules. We say that $M$ is the internal
        direct sum of $M_1, M_2$ if $M = M_1 + M_2$, $M_1 \cap M_2 = \{0\}$.
    \end{definition}

    \begin{lemma}
        If $M$ is the internal direct sum of $M_1, M_2$, then $M \cong M_1 \oplus
        M_2$.
    \end{lemma}
    \begin{definition}
        If $M$ is an $R$-module and $M \cong M_1 \oplus M_2$, then this is called a
        direct decomposition of $M$. An indecomposable module $M$ cannot be written
        as the direct sum of non-zero modules.
    \end{definition}

    \begin{definition}
        An $R$-module $M$ is called free if on a finite basis, it can be expressed as
        a direct sum \[
            M = M_1 \oplus \dots \oplus M_n
        \] where each $M_i$ is a free cyclic $R$-module. If $M_i = Rx_i$, then the
        collection $\{x_1, \dots, x_n\}$ is called a basis of the free module $M$.
    \end{definition}
    \begin{lemma}
        If $M$ is a free module with basis $\{x_1, \dots, x_n\}$, then each $z \in M$
        can be uniquely expressed as \[
            z = a_1x_1 + \dots + a_nx_n,
        \] for $a_i \in R$.
    \end{lemma}
    \begin{example}
        $\R^n$ is a free $\R$-module, with many choices of basis.
    \end{example}
    \begin{example}
        $\Z/n\Z$ is not a free $\Z$-module, since $n \in \Ann(\Z/n\Z)$.
    \end{example}

    \begin{lemma}
        Let $R$ be a commutative unit ring. Then any two bases of a free $R$-module
        have the same number of elements.
    \end{lemma}

    \begin{definition}
        Let $R$ be a commutative unit ring, and let $F$ be a free $R$-module with a
        basis of $n$ elements. Then, $n$ is defined as the rank of $F$.
    \end{definition}

    \begin{lemma}
        Let $R$ be a principal ideal domain, and let $M$ be a free $R$-module of rank
        $n$. If $N \subseteq M$ is a submodule, then $N$ is free with rank $\leq n$.
    \end{lemma}

    \begin{corollary}
        Any submodule of a finitely generated module over a principal ideal domain is
        finitely generated.
        \begin{remark}
            Note that a finitely generated $R$-module $M$ of rank $n$ is isomorphic
            to $R^n/K$, where $R^n$ is a free module of rank $n$.
        \end{remark}
    \end{corollary}


    \begin{definition}
        An element $x \in M$ is a called a torsion element of the $R$-module $M$ if
        $ax = 0$ for some non-zero $a \in R$.
        \begin{remark}
            The set of torsion elements in $M$, denoted $t(M)$, is a submodule of
            $M$ when $R$ is an integral domain.
        \end{remark}
        \begin{remark}
            If $t(M) = 0$, $M$ is called a torsion-free module. If $t(M) = M$, $M$ is
            called a torsion module.
        \end{remark}
    \end{definition}

    \begin{example}
        $\Q\oplus \Z/n\Z$ is neither a torsion module, nor torsion-free.
    \end{example}


    \begin{theorem}
        Let $M$ be a finitely generated module over a principal ideal domain $R$.
        Then, $M$ can be expressed as \[
            M = F\oplus t(M),
        \] where $F$ is a free $R$-module. Moreover, $F$ is unique up to isomorphism.
    \end{theorem}


    \begin{definition}
        Let $x \in M$ and let $\Ann(x) = (a) \subseteq R$. Then, $a$ is called the
        period of $x$.

        \begin{remark}
            The period of an element $x \in M$ is unique up to units in $R$.
        \end{remark}
    \end{definition}

    \begin{definition}
        Let $M$ be a finitely generated torsion module over a principal ideal domain.
        If $\Ann(M) = (c)$, then $c$ is called the exponent of $M$.

        \begin{remark}
            The exponent of $M$ is unique up to units in $R$.
        \end{remark}
    \end{definition}

    \begin{lemma}
        Let $M$ be a finitely generated torsion module over a principal ideal domain,
        with exponent $c = ab$ where $\gcd(a, b) = 1$. Then, $M = M_1 \oplus M_2$,
        where \[
            M_1 = \{x \in M: ax = 0\}, \qquad M_2 = \{x \in M: bx = 0\}.
        \]
    \end{lemma}

    \begin{corollary}
        Let $M$ be a finitely generated torsion module over a principal ideal domain,
        with exponent $c = p_1^{\alpha_1}\cdots p_k^{\alpha_k}$ for primes $p_1,
        \dots, p_k$. Then, $M$ can be expressed as \[
            M = M_1\oplus \cdots \oplus M_k,
        \] where each $M_i = \{x \in M: p_i^{\alpha_i}x = 0\}$.
    \end{corollary}

    \begin{definition}
        A set of elements $\{y_1, \dots, y_n\} \subseteq M$ is called independent if
        $\sum_{i = 1}^m a_i y_i = 0$ for $a_i \in R$ forces each $a_iy_i = 0$.

        \begin{remark}
            A linearly independent set is independent, but not all independent sets
            are linearly independent.
        \end{remark}
    \end{definition}

    \begin{lemma}
        Let $M$ be a finitely generated torsion module over a principal ideal domain,
        with exponent $p^r$ where $p$ is a prime, $r\geq 1$. Let $x_1 \in M$ with
        period $p^r$, let $\overline{M} = M / (x_1)$, and let $\overline{y}_1, \dots,
        \overline{y}_m$ be independent elements of $\overline{M}$. Then, for each
        $i$, there exists a representative $y_i$ of $\overline{y}_i$ such that the
        periods of $y_i$ and $\overline{y}_i$ are the same. Furthermore, $x_1, y_1,
        \dots, y_m$ are independent.
    \end{lemma}

    \begin{lemma}
        Let $M$ be a finitely generated torsion module over a principal ideal domain,
        with exponent $p^r$ where $p$ is prime, $r\geq 1$. Then, $M$ can be expressed
        as a direct sum of cyclic modules \[
            M = R/(p^{r_1}) \oplus \cdots \oplus R/(p^{r_k}),
        \] with $r_1 \geq \dots \geq r_k \geq 1$.
    \end{lemma}


    \begin{lemma}
        Let $R$ be a unique factorisation domain. \begin{enumerate}
            \itemsep0em
            \item If $\gcd(a, b) = 1$, then $R/(ab) \cong R/(a) \oplus R/(b)$.
            \item If $p \in R$ is prime and $b \in R$ is non-zero, then $R/(p) \cong
            b R/(bp)$.
        \end{enumerate}
    \end{lemma}


    \begin{theorem}[Structure theorem]
        Let $M$ be a finitely generated module over a principal ideal domain $R$.
        Then, $M$ can be expressed uniquely as \[
            M \cong F\oplus R/(q_1) \oplus \dots \oplus R/(q_k),
        \] where $F$ is a free $R$-module and $q_1, \dots, q_k$ are non-zero elements
        of $R$ with $q_1\mid \dots \mid q_k$. Moreover, $F$ is unique up to
        isomorphism, and $q_1, \dots, q_k$ are unique up to units.
    \end{theorem}

    \begin{corollary}
        Let $G$ be a finitely generated abelian group. Then, $G$ can be expressed
        uniquely as \[
            G = F \oplus \Z/q_1Z \oplus \dots \oplus \Z/q_k\Z,
        \] where $F$ is a free abelian group and $q_1, \dots, q_k$ are non-zero, with
        $q_1\mid \dots \mid q_k$.

        \begin{remark}
            The rank of $M$ is defined as the rank of $F$. The elements $q_1, \dots,
            q_k$ are called the invariant factors of $M$.
        \end{remark}
    \end{corollary}

    \begin{example}
        In order to enumerate all abelian groups $G$ of order $60 = 2^2 \times 3
        \times 5$ (up to isomorphism), observe that $G$ has no free part. The only
        abelian groups of order $2^2$ are $\Z/4\Z$ and $\Z/2\Z\times \Z/2\Z$, the
        only abelian group of order $3$ is $\Z/3\Z$, and the only abelian group of
        order $5$ is $\Z/5\Z$. Thus, the invariant factors of $G$ must be either
        $60$, or $2, 30$. This gives us exactly two groups, \begin{align*}
            G &\cong \Z/60\Z \cong \Z/4\Z \times \Z/3\Z \times \Z/5\Z, \\
            G &\cong \Z/2\Z \times \Z/30\Z \cong \Z/2\Z\times \Z/2\Z \times \Z/3\Z
            \times \Z/5\Z.
        \end{align*}
    \end{example}

    \subsection{Free modules}

    \begin{theorem}
        For any set $S$ and a ring $R$, there exists a free module $F^S$ and a map
        $\iota\colon S \hookrightarrow F^S$ such that $\iota(S)$ is a basis of $F^S$.
        This free module $F^S$ is unique up to isomorphism.  Furthermore, this has
        the following universal property: given any map $f\colon S \to M$ where $M$
        is an $R$-module, there exists a unique $R$-module homomorphism $f_*\colon
        F^S \to M$ such that $f = f_*\circ \iota$. In other words, each $f$ induces a
        map $f_*$ such that the following diagram commutes. \[
            \begin{tikzcd}
                S & M \\
                {F^S}
                \arrow["f", from=1-1, to=1-2]
                \arrow["\iota"', hook, from=1-1, to=2-1]
                \arrow["{f_*}"', dashed, from=2-1, to=1-2]
            \end{tikzcd} 
        \]
    \end{theorem}
    \begin{proof}
        Define \[
            F^S = \{g\colon S \to R: g(a) = 0\text{ for all but finitely many } a \in
            S\}.
        \] This can be equipped with the $R$-module structure \[
            (g + h)(a) = g(a) + h(a), \qquad
            (rg)(a) = r g(a)
        \] for all $r \in R$, $g, h \in F^S$, $a \in S$. Now, define \[
            \iota\colon S \to F^S, \qquad a \mapsto g_a,
        \] where each $g_a(a) = 1$, $g_a(x) = 0$ for $x \neq a$. Then, it is clear
        that all such $g_a$ generate $F^S$. Now, given $f\colon S \to M$, we may
        define \[
            f_*\colon F^S \to M, \qquad g_a \mapsto f(a),
        \] which is the required $R$-module homomorphism.
    \end{proof}


    \subsection{Tensor products}

    \begin{definition}
        Let $R$ be a commutative unit ring, and let $M, N, X$ be $R$-modules. A map
        $f\colon M\times N \to X$ is called $R$-bilinear if it is $R$-linear in each
        separate argument, i.e.\ for all $r \in R$, $x, y \in M$, $z, w \in N$, we
        have \begin{enumerate}
            \itemsep0em
            \item $f(x + y, z) = f(x, z) + f(y, z)$.
            \item $f(x, z + w) = f(x, z) + f(x, w)$.
            \item $f(rx, z) = rf(x, z) = f(x, rz)$.
        \end{enumerate}
    \end{definition}

    \begin{definition}
        Let $R$ be a commutative unit ring, and let $M, N$ be $R$-modules. A tensor
        product of $M$ and $N$ is an $R$-module denoted $M\otimes_R N$, together with
        an $R$-bilinear map $\iota\colon M\times N \to M\otimes_R N$ such that for
        every $R$-bilinear map $f\colon M \times N \to X$, there is a unique
        $R$-linear map $f_*\colon M\otimes_R N \to X$ such that $f = f_*\circ \iota$.
        In other words, each $f$ induces a map $f_*$ such that the following diagram
        commutes. \[
            \begin{tikzcd}
                {M\times N} & X \\
                {M\otimes_R N}
                \arrow[from=1-1, to=1-2]
                \arrow["f", from=1-1, to=1-2]
                \arrow["\iota"', from=1-1, to=2-1]
                \arrow["{f_*}"', dashed, from=2-1, to=1-2]
            \end{tikzcd}
        \] We usually denote $\iota(x, y) \equiv x\otimes y$.

        \begin{remark}
            The $R$-module $M\otimes_R N$ is generated by the tensors $x\otimes y$.
        \end{remark}
    \end{definition}

    \begin{theorem}
        The tensor product $M\otimes_R N$ of $R$-modules $M, N$ exists, and is unique
        up to isomorphism.
    \end{theorem}

    \begin{example}
        We can show that $\Z/n\Z \otimes_\Z \Q = 0$, by picking an arbitrary element
        $x\times y$ and noting that \[
            x\otimes y = n(x\otimes (y / n)) = (nx) \otimes (y / n) = 0\otimes (y /
            n) = 0(0\otimes (y / n)) = 0.
        \]
    \end{example}

    \begin{example}
        We claim that $\Q\otimes_\Z \Q \cong \Q$. Consider the maps \begin{align*}
            \varphi&\colon \Q \to \Q\otimes_\Z \Q, &q&\mapsto q\otimes 1, \\
            \psi&\colon \Q\times \Q \to \Q, &(p, q)&\mapsto pq.
        \end{align*}
        It is clear that $\varphi$ is $\Z$-linear, $\psi$ is $\Z$-bilinear hence
        $\psi_*$ is $\Z$-linear. Furthermore, $\varphi\circ \psi_*$, $\psi_*\circ
        \varphi$ are identity maps on their respective domains.
    \end{example}

    \begin{example}
        If $d = \gcd(m, n)$, then \[
            \Z/m\Z \otimes_\Z \Z/n\Z \cong \Z/d\Z.
        \] To show this, we define the maps \begin{align*}
            \varphi&\colon \Z/d\Z \to \Z/m\Z\otimes_\Z \Z/n\Z, &n&\mapsto n(1\otimes
            1), \\
            \psi&\colon \Z/m\Z \times \Z/n\Z \to \Z/d\Z, &(x, y)&\mapsto xy.
        \end{align*}
        It can be checked that these maps are indeed well-defined, $\varphi$ is
        $\Z$-linear, $\psi$ is $\Z$-bilinear hence $\psi_*$ is $\Z$-linear.
        Furthermore, $\varphi\circ \psi_*$, $\psi_*\circ\varphi$ are identity maps on
        their respective domains.
    \end{example}

\end{document}
